# vim 使用技巧
[初级进阶](https://coolshell.cn/articles/5426.html)

### 基本技巧
1. 进入编辑（写）模式

|指令 |说明
|--------|--------
|`i`   | 光标处进入写模式
|`a`  | 光标后一个字符进入写模式
|`I`   | 行首写进入写模式
|`A`   | 行尾写进入写模式
|`o`   | 换行后进入写模式
|`O`   | 上一行插入新的一行进入写模式

2、退出编辑模式（即进入指令模式）

|指令 |说明
|--------|--------
|`ESC`  | 退出编辑模式
|`:w`   | 退出编辑模式并保持
|`:w!`  | 强制退出编辑模式并保存，能否保持看用户权限
|`:q`   | 离开vi
|`:q!`  | 强制退出vi，不保存
|`:wq`  | 保持并退出vi

3、指令模式操作

|指令 |说明
|--------|--------
|`^`   | 光标到行首
|`$`   | 光标到行尾
|`gg`  | 文件首部 
|`G` | 文件尾部
|`''`| 到上一次光标位置
|`v`  | 字元选择，会将游标经过的地方选择
|`V`  | 行选择，会将游标经过的行选择
|`[Ctrl]+v`  | 区块选择，可以用长方形的方式选择资料
|`y`  | 将反白的地方复制起来 yy 复制当行
|`d`  | 将反白的地方删除掉 dd 删除当行 3dd 三行删除
|`p`  | 粘贴
|`=`  | 代码格式化
|`tt`  | 替换tab为空格
|`c`  | 剪切并进入写模式
|`w`  | 整个单词 组合`cw`,`dw`,`vw`
|`b`  | 整个单词前 组合`cb`,`db`,`vb`
|`e`  | 整个单词后 组合`ce`,`de`,`ve`
|`/[word] + [enter]`  | 全文查找某个单词，`N`上一个 `n`下一个
|`.`  | 重复上一次写操作
|`gu`  | 单词转化成小写
|`gU`  | 单词转化成大写
|`gv`  | 显示上次选中数据
|`f`  | 当行查找字符 `,`上一个 `;`下一个
|`u`  | 回退上一次操作
|`[ctrl] + r`  | 和`u` 相反操作
|`>`  | 向右缩进
|`<`  | 向左缩进
|`J`  | 把所有的行连接起来（变成一行）
|`%`  | 对于括号
|`%` | 匹配括号移动，包括 (, {, [. （陈皓注：你需要把光标先移到括号上）
|`*` 和 `#`| 匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个）
|`H`  | 屏幕顶
|`M`  | 屏幕中间
|`L`  | 屏幕底
|`[ctrl] + f`| 下一屏
|`[ctrl] + b`| 上一屏

4、高级进阶；使用vi的精华在于组合键的使用，如：

|指令 |说明
|--------|--------
|`gg` `v` `G` | 选择全文
|`b` `v` `e`/`右箭头` `gU` | 选中字符转出大写
|`v` 多次`↓` `==` | 选中行格式化
|`yy` `p` | 选中某行进行粘贴
|`^` `[Ctrl]+v` `G`/`↓` `I` `#` `ESC` | 选中行同意注释
|`/[word] + [enter]` `n` `cw` `输入[rword]` `ESC` `n` `.` | 查找制定字符 进行修改并进行一个一个替换

5、设置类操作

|指令 |说明
|--------|--------
|`:set nu`  | 显示行号
|`:set nonu`   | 不显示行号
|`:set list`  | 显示结尾符 常用来看是否行尾有多余的空格
|`:set nolist`  | 不显示结尾符 
|`:sp [filename]`| 开启一个新视窗，如果有加 filename，在新视窗开启一个新档案
|`[ctrl]+w+j` `[ctrl]+w+↓` | 游标可移动到下方的视窗。 


6. 强大插件

|指令 |说明
|--------|--------
|`F3`   | 打开文件目录列表NERDTreeToggle，左侧打开菜单
|`F4`   | 文件注释
|`F5`   | 一键执行代码
|`F6`   | 全文进行代码格式化对齐
|`F7`   | 函数注释
|`:Tab/=` or `:Tab/=>`  | 按照`=`、`=>` 对齐 快捷使用 `t` + `=`
|`ga` + `任意个字符` or `EasyAlign + enter` +  `任意个字符` | 按照字符对齐,支持正则
|`:tabe [filename]`   | 新开tab打开文件filename； `gt`,`gT`进行tab切换 
|`:sp [filename]`  | 水平分割窗口
|`:sp [filename]` | 垂直分割窗口
|`[Ctrl] + w` | 快速在窗口间切换
|`:w`     | 保存代码之后会自动检查代码错误与规范
|`TAB`    | 会触发代码补全功能
|`[Ctrl] + p`  | 全文搜索文件 `[Ctrl] +t `,`[Ctrl] +r`,`[Ctrl] +d`
|`F9` 或 `tl`  | 显示当前文件中的宏、全局变量、函数、类等信息
|`F2`   | 去掉空格
|`数字` + `\cc` | 从当行开始，注释n行; `\cm`块注释,`\cy`,`\cb`类似,`\cs`美化, `\ci`,`\cu`相反, 

### 编写markdown文件

- 编写markdown文件(`*.md`)的时候，在normal模式下按 `md` 即可在当前目录下生成相应的`html`文件
- 生成之后还是在normal模式按`fi`可以使用firefox打开相应的`html`文件预览
- 当然也可以使用万能的`F5`键来一键转换并打开预览
- 如果打开过程中屏幕出现一些混乱信息，可以按`Ctrl + l`来恢复
